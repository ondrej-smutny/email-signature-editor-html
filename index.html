<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Email Signature Editor</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
    .container { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 8px; }
    h1 { text-align: center; }
    label { font-weight: bold; margin-top: 10px; display: block; }
    input { width: 100%; padding: 6px; margin-top: 4px; }
    select { padding: 6px; margin-top: 4px; }
    .editor, .preview, .output { margin-top: 20px; }
    .signature-preview { border: 1px solid #ccc; padding: 15px; }
    textarea { width: 100%; height: 200px; }
    button { margin: 5px 0; padding: 8px 14px; cursor: pointer; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Email Signature Editor</h1>

    <div class="editor">
      <label>Name</label>
      <input type="text" id="name" placeholder="John Doe">

      <label>Position</label>
      <input type="text" id="position" placeholder="Software Engineer">

      <label>Company</label>
      <input type="text" id="company" placeholder="Example Inc.">

      <label>Phone</label>
      <input type="text" id="phone" placeholder="+1 234 567 890">

      <label>Email</label>
      <input type="text" id="email" placeholder="john@example.com">

      <label>Logo URL</label>
      <input type="text" id="logo" placeholder="https://via.placeholder.com/80">

      <label>Template</label>
      <select id="template">
        <option value="clean">Clean</option>
        <option value="bar">Left Accent Bar</option>
      </select>
    </div>

    <div class="preview">
      <h2>Preview</h2>
      <div id="signature" class="signature-preview"></div>
    </div>

    <div class="output">
      <h2>HTML Output</h2>
      <textarea id="htmlOutput" readonly></textarea><br>
      <button onclick="copyHtml()">Copy HTML</button>
      <button onclick="downloadHtml()">Download .html</button>
    </div>
  </div>

  <script>
    const fields = ["name","position","company","phone","email","logo","template"];
    fields.forEach(id => document.getElementById(id).addEventListener("input", updateSignature));
    document.getElementById("template").addEventListener("change", updateSignature);

    function generateTemplate(data){
      if(data.template==="clean"){
        return `
<table cellpadding="0" cellspacing="0" style="font-family:Arial,sans-serif;">
  <tr>
    <td style="padding-right:10px;">
      ${data.logo?`<img src="${data.logo}" width="80" style="border-radius:4px;">`:``}
    </td>
    <td style="font-size:14px; color:#333;">
      <strong>${data.name||""}</strong><br>
      ${data.position||""} ${data.company?`| ${data.company}`:""}<br>
      ${data.phone?`üìû ${data.phone}<br>`:""}
      ${data.email?`‚úâÔ∏è <a href="mailto:${data.email}" style="color:#333;">${data.email}</a>`:""}
    </td>
  </tr>
</table>`;
      } else {
        return `
<table cellpadding="0" cellspacing="0" style="font-family:Arial,sans-serif;">
  <tr>
    <td style="background:#0073e6;width:6px;"></td>
    <td style="padding-left:10px;font-size:14px;color:#333;">
      <strong>${data.name||""}</strong><br>
      ${data.position||""} ${data.company?`| ${data.company}`:""}<br>
      ${data.phone?`üìû ${data.phone}<br>`:""}
      ${data.email?`‚úâÔ∏è <a href="mailto:${data.email}" style="color:#333;">${data.email}</a>`:""}
      ${data.logo?`<div style="margin-top:5px;"><img src="${data.logo}" width="80" style="border-radius:4px;"></div>`:""}
    </td>
  </tr>
</table>`;
      }
    }

    function updateSignature(){
      const data = {};
      fields.forEach(id => data[id]=document.getElementById(id).value);
      const html = generateTemplate(data);
      document.getElementById("signature").innerHTML = html;
      document.getElementById("htmlOutput").value = html;
    }

    function copyHtml(){
      const text = document.getElementById("htmlOutput").value;
      navigator.clipboard.writeText(text);
      alert("Copied to clipboard!");
    }

    function downloadHtml(){
      const text = document.getElementById("htmlOutput").value;
      const blob = new Blob([text],{type:"text/html"});
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "signature.html";
      link.click();
    }

    updateSignature();
  </script>
</body>
</html>
